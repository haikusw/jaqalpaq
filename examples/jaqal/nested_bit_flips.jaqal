from qscout.v1.std usepulses *

register q[4]

prepare_all
measure_all // Make (LSB) state 0b0000 = 0

prepare_all
Px q[0]
measure_all // Make (LSB) state 0b1000 = 1

prepare_all
Px q[1]
measure_all // Make (LSB) state 0b0100 = 2

prepare_all
Px q[0]
Px q[1]
measure_all // Make (LSB) state 0b1100 = 3

prepare_all
Px q[2]
measure_all // Make (LSB) state 0b0010 = 4

prepare_all
Px q[0]
Px q[2]
measure_all // Make (LSB) state 0b1010 = 5

prepare_all
Px q[1]
Px q[2]
measure_all // Make (LSB) state 0b0110 = 6

prepare_all
Px q[0]
Px q[1]
Px q[2]
measure_all // Make (LSB) state 0b1110 = 7

prepare_all
Px q[3]
measure_all // Make (LSB) state 0b0001 = 8

prepare_all
Px q[0]
Px q[3]
measure_all // Make (LSB) state 0b1001 = 9

prepare_all
Px q[1]
Px q[3]
measure_all // Make (LSB) state 0b0101 = 10

prepare_all
Px q[0]
Px q[1]
Px q[3]
measure_all // Make (LSB) state 0b1101 = 11

prepare_all
Px q[2]
Px q[3]
measure_all // Make (LSB) state 0b0011 = 12

prepare_all
Px q[0]
Px q[2]
Px q[3]
measure_all // Make (LSB) state 0b1011 = 13

prepare_all
Px q[1]
Px q[2]
Px q[3]
measure_all // Make (LSB) state 0b0111 = 14

prepare_all
Px q[0]
Px q[1]
Px q[2]
Px q[3]
measure_all // Make (LSB) state 0b0111 = 15


loop 2 {
    prepare_all
    Px q[0]
    measure_all
    loop 2 {
        prepare_all
        Px q[0]
        Px q[1]
        measure_all
        loop 2 {
            prepare_all
            Px q[0]
            Px q[1]
            Px q[2]
            measure_all
            loop 2 {
                prepare_all
                Px q[0]
                Px q[1]
                Px q[2]
                Px q[3]
                measure_all
                    }
                }
            }
        }

// EXPECTED READOUTS
// 0000 0 0
// 1000 1 1
// 0100 2 2
// 1100 3 3
// 0010 4 4
// 1010 5 5
// 0110 6 6
// 1110 7 7
// 0001 8 8
// 1001 9 9
// 0101 10 10
// 1101 11 11
// 0011 12 12
// 1011 13 13
// 0111 14 14
// 1111 15 15
// 1000 1 16
// 1100 3 17
// 1110 7 18
// 1111 15 19
// 1111 15 19
// 1110 7 18
// 1111 15 19
// 1111 15 19
// 1100 3 17
// 1110 7 18
// 1111 15 19
// 1111 15 19
// 1110 7 18
// 1111 15 19
// 1111 15 19
// 1000 1 16
// 1100 3 17
// 1110 7 18
// 1111 15 19
// 1111 15 19
// 1110 7 18
// 1111 15 19
// 1111 15 19
// 1100 3 17
// 1110 7 18
// 1111 15 19
// 1111 15 19
// 1110 7 18
// 1111 15 19
// 1111 15 19

// EXPECTED PROBABILITIES
// SUBCIRCUIT 0
// 0000 0 1.0
// 1000 1 0.0
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 1
// 0000 0 3.749399456654644e-33
// 1000 1 1.0
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 2
// 0000 0 3.749399456654644e-33
// 1000 1 0.0
// 0100 2 1.0
// 1100 3 0.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 3
// 0000 0 1.405799628556214e-65
// 1000 1 3.749399456654644e-33
// 0100 2 3.749399456654644e-33
// 1100 3 1.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 4
// 0000 0 3.749399456654644e-33
// 1000 1 0.0
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 1.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 5
// 0000 0 1.405799628556214e-65
// 1000 1 3.749399456654644e-33
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 3.749399456654644e-33
// 1010 5 1.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 6
// 0000 0 1.405799628556214e-65
// 1000 1 0.0
// 0100 2 3.749399456654644e-33
// 1100 3 0.0
// 0010 4 3.749399456654644e-33
// 1010 5 0.0
// 0110 6 1.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 7
// 0000 0 5.270904363473969e-98
// 1000 1 1.405799628556214e-65
// 0100 2 1.405799628556214e-65
// 1100 3 3.749399456654644e-33
// 0010 4 1.405799628556214e-65
// 1010 5 3.749399456654644e-33
// 0110 6 3.749399456654644e-33
// 1110 7 1.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 8
// 0000 0 3.749399456654644e-33
// 1000 1 0.0
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 1.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 9
// 0000 0 1.405799628556214e-65
// 1000 1 3.749399456654644e-33
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 3.749399456654644e-33
// 1001 9 1.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 10
// 0000 0 1.405799628556214e-65
// 1000 1 0.0
// 0100 2 3.749399456654644e-33
// 1100 3 0.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 3.749399456654644e-33
// 1001 9 0.0
// 0101 10 1.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 11
// 0000 0 5.270904363473969e-98
// 1000 1 1.405799628556214e-65
// 0100 2 1.405799628556214e-65
// 1100 3 3.749399456654644e-33
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 1.405799628556214e-65
// 1001 9 3.749399456654644e-33
// 0101 10 3.749399456654644e-33
// 1101 11 1.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 12
// 0000 0 1.405799628556214e-65
// 1000 1 0.0
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 3.749399456654644e-33
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 3.749399456654644e-33
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 1.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 13
// 0000 0 5.270904363473969e-98
// 1000 1 1.405799628556214e-65
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 1.405799628556214e-65
// 1010 5 3.749399456654644e-33
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 1.405799628556214e-65
// 1001 9 3.749399456654644e-33
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 3.749399456654644e-33
// 1011 13 1.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 14
// 0000 0 5.270904363473969e-98
// 1000 1 0.0
// 0100 2 1.405799628556214e-65
// 1100 3 0.0
// 0010 4 1.405799628556214e-65
// 1010 5 0.0
// 0110 6 3.749399456654644e-33
// 1110 7 0.0
// 0001 8 1.405799628556214e-65
// 1001 9 0.0
// 0101 10 3.749399456654644e-33
// 1101 11 0.0
// 0011 12 3.749399456654644e-33
// 1011 13 0.0
// 0111 14 1.0
// 1111 15 0.0
// SUBCIRCUIT 15
// 0000 0 1.9762725956487894e-130
// 1000 1 5.270904363473969e-98
// 0100 2 5.270904363473969e-98
// 1100 3 1.405799628556214e-65
// 0010 4 5.270904363473969e-98
// 1010 5 1.405799628556214e-65
// 0110 6 1.405799628556214e-65
// 1110 7 3.749399456654644e-33
// 0001 8 5.270904363473969e-98
// 1001 9 1.405799628556214e-65
// 0101 10 1.405799628556214e-65
// 1101 11 3.749399456654644e-33
// 0011 12 1.405799628556214e-65
// 1011 13 3.749399456654644e-33
// 0111 14 3.749399456654644e-33
// 1111 15 1.0
// SUBCIRCUIT 16
// 0000 0 3.749399456654644e-33
// 1000 1 1.0
// 0100 2 0.0
// 1100 3 0.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 17
// 0000 0 1.405799628556214e-65
// 1000 1 3.749399456654644e-33
// 0100 2 3.749399456654644e-33
// 1100 3 1.0
// 0010 4 0.0
// 1010 5 0.0
// 0110 6 0.0
// 1110 7 0.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 18
// 0000 0 5.270904363473969e-98
// 1000 1 1.405799628556214e-65
// 0100 2 1.405799628556214e-65
// 1100 3 3.749399456654644e-33
// 0010 4 1.405799628556214e-65
// 1010 5 3.749399456654644e-33
// 0110 6 3.749399456654644e-33
// 1110 7 1.0
// 0001 8 0.0
// 1001 9 0.0
// 0101 10 0.0
// 1101 11 0.0
// 0011 12 0.0
// 1011 13 0.0
// 0111 14 0.0
// 1111 15 0.0
// SUBCIRCUIT 19
// 0000 0 1.9762725956487894e-130
// 1000 1 5.270904363473969e-98
// 0100 2 5.270904363473969e-98
// 1100 3 1.405799628556214e-65
// 0010 4 5.270904363473969e-98
// 1010 5 1.405799628556214e-65
// 0110 6 1.405799628556214e-65
// 1110 7 3.749399456654644e-33
// 0001 8 5.270904363473969e-98
// 1001 9 1.405799628556214e-65
// 0101 10 1.405799628556214e-65
// 1101 11 3.749399456654644e-33
// 0011 12 1.405799628556214e-65
// 1011 13 3.749399456654644e-33
// 0111 14 3.749399456654644e-33
// 1111 15 1.0
